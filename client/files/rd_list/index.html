<!DOCTYPE html>

<html>
<head>
  <title>raindrop:applications</title>
  <style type="text/css">
    h1 {
      letter-spacing: 0.2ex;
    }
    ul {
      display: inline-block;
      margin: 0px;
      padding: 0px;
      min-width: 20ex;
      list-style: none;
      outline: 1px solid gray;
    }
    ul > li {
    }
    ul > li > a {
      display: block;
      padding: 2ex;
      font-weight: bold;
      text-decoration: none;
    }
    ul > li > a:hover {
      background-color: #f9f9f9;
    }
  </style>
  <script src="http://127.0.0.1:5984/raindrop/files/config.js" charset="utf-8"></script>
  <script type="text/javascript" charset="utf-8">
    rd.addOnLoad(function(){
      //http://127.0.0.1:5984/raindrop/_design/raindrop!apps!all/_view/all?limit=11
      couch.db("raindrop").view("raindrop!content!all/_view/megaview", {
        key: ['rd.core.content', 'ext_id-schema_id', ["rd.core","rd.ext.ui"]],
        include_docs: true,
        reduce : false,
        success: rd.hitch(this, function(json) {
          var html = "";
          rd.forEach(json.rows, function(row) {
            var doc = row.doc;
            if (doc.rd_key[1] != "rd_list") {
              html += '<li><a href="' + doc.location + '">' + doc.name + '</a></li>';
            }
          });

          rd.place(html, rd.query("ul")[0], "only");
        })
      });
    });
  </script>
</head>

<body>
  <h1>raindrop</h1>
  <ul></ul>
</body>
</html>
