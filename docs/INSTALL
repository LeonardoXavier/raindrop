Late Breaking News/Known Problems
=================================

* The reactor must always be stopped with ctrl+c; it never stops by itself.
  One twisted day seem so twisted wont.

Installation Steps
==================

Have Python 2.6 or later installed.

 Prereqs:
    easy_install couchdb (0.5 or later)

Install couchdb trunk.  This currently means you need to google for
instructions that work only on Linux - Windows doesn't work.  If you want to
work on Windows you must install Couch on a Linux box and point your windows
~/.raindrop file at the server.

Install twisted.

Install 'paisley' from launchpad.

Either install junius:
  cd junius/server/python/junius
  python setup.py develop
*or* just add it to your PYTHONPATH
  set PYTHONPATH=c:\src\path\to\junius\server\python

configure raindrop:
  * edit ~/.raindrop

  * if your 'local' couchdb isn't on localhost, add a section along the lines of:
        [couch-local]
        host=hostname
        port=port

  * Add imap accounts along the lines of
        [account-some-account-name] # the 'account-' prefix is important!
        kind=imap
        host=imap.gmail.com
        port=993
        username=username@gmail.com
        password=topsecret
        ssl=True

  * Add a 'test' account - for the 'test suite' - along the lines of:
        [account-test]
        kind=test
        username=test # not used, but we die without it!
        num_test_docs=1 # this defaults to 5 - but 1 is useful sometimes!

With the couchdb server running....

Setup the database and upload views and other content:

  WARNING: using this command will wipe ALL your databases we may touch.
  USE WITH CAUTION.

  % run-raindrop.py nuke-db-and-delete-everything-forever

  See --help for how to update the various bits without nuking the database.

Go to http://127.0.0.1:5984/_utils/index.html to check that the table(s) are 
setup

Test everything using the 'test suite' (one day it *will* be a test suite :)

  % run-raindrop.py -p test sync-messages process

  THEN repeat the above - sorry about that - the first run didn't quite
  do everything it was supposed to.

  % run-raindrop.py -p test sync-messages process

  Note the '-p' says to only load the 'test' protocol; without it we
  will attempt to load all protocols (eg, imap, skype, twitter, etc).
  But further note that we don't attempt a protocol - even the 'test' 
  protocol - until we have an account of that 'type' set up.

  Add '-l debug' to the above command-line for debug log messages.  This
  can get quite verbose; you can also say -l log.name=debug to set a specific
  log to debug.

  See --help for more.


Get *real* messages:

  % run-raindrop.py sync-messages process

(reload http://127.0.0.1:5984/_utils/index.html to see stuff in the messages view)

Go to http://127.0.0.1:5984/junius/files/index.xhtml and do autocomplete to do
searches.
